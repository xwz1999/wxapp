(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orders/orders"],{148:
/*!***************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/main.js?{"page":"pages%2Forders%2Forders"} ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4);r(n(/*! vue */2));var t=r(n(/*! ./pages/orders/orders.vue */149));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},149:
/*!********************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue ***!
  \********************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./orders.vue?vue&type=template&id=8a71bbb4& */150),o=n(/*! ./orders.vue?vue&type=script&lang=js& */152);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);n(/*! ./orders.vue?vue&type=style&index=0&lang=scss& */154);var a,i=n(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),u=Object(i["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],a);u.options.__file="pages/orders/orders.vue",t["default"]=u.exports},150:
/*!***************************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?vue&type=template&id=8a71bbb4& ***!
  \***************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var r=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=template&id=8a71bbb4& */151);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},151:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?vue&type=template&id=8a71bbb4& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return o})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return r}));var r={uNavbar:function(){return n.e(/*! import() | uview-ui/components/u-navbar/u-navbar */"uview-ui/components/u-navbar/u-navbar").then(n.bind(null,/*! @/uview-ui/components/u-navbar/u-navbar.vue */571))},uTabs:function(){return Promise.all(/*! import() | uview-ui/components/u-tabs/u-tabs */[n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,/*! @/uview-ui/components/u-tabs/u-tabs.vue */649))},uLoadmore:function(){return n.e(/*! import() | uview-ui/components/u-loadmore/u-loadmore */"uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,/*! @/uview-ui/components/u-loadmore/u-loadmore.vue */557))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.navs,(function(t,n){var r=e.__get_orig(t),o=t.isNull?null:e.__map(t.orders,(function(t,n){var r=e.__get_orig(t),o=e._f("toFixed")(t.goodsTotalAmount,2);return{$orig:r,f0:o}}));return{$orig:r,l0:o}})));e.$mp.data=Object.assign({},{$root:{l1:n}})},s=!1,a=[];o._withStripped=!0},152:
/*!*********************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=script&lang=js& */153),o=n.n(r);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);t["default"]=o.a},153:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){function n(e){return a(e)||s(e)||o(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function a(e){if(Array.isArray(e))return i(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u={data:function(){return{IMAGE_URL:this.IMAGE_URL,currentIndex:0,navs:[],nav1:["全部","待付款","待发货","待收货","待评价"],nav2:["全部","待付款","待自提","待评价"],orderTypeIndex:0,reqUrl:"",sendData:{}}},onLoad:function(e){console.log(e),e.type&&(this.orderTypeIndex=parseInt(e.type)),this.setNav()},methods:{chooseNav:function(e){this.currentIndex=e,this.orderTypeIndex=0,this.setNav()},setNav:function(){if(this.navs=[],0==this.currentIndex)for(var e=0;e<this.nav1.length;e++)this.navs.push({name:this.nav1[e],page:0,stopLoad:!1,orders:[],isNull:!1,loadStatus:"loading"});else if(1==this.currentIndex)for(var t=0;t<this.nav2.length;t++)this.navs.push({name:this.nav2[t],page:0,stopLoad:!1,orders:[],isNull:!1,loadStatus:"loading"});this.getOrders()},chooseTabs:function(e){this.orderTypeIndex=e},changeCurrent:function(e){this.orderTypeIndex=e.detail.current,this.getOrders()},initData:function(){console.log(this.orderTypeIndex);for(var e=0;e<this.navs.length;e++)e!=this.orderTypeIndex&&(this.navs[e].page=0,this.navs[e].stopLoad=!1,this.navs[e].orders=[],this.navs[e].isNull=!1,this.navs[e].loadStatus="loading")},getOrders:function(){var t=this,r=this.orderTypeIndex;if(this.navs[r].stopLoad)console.log("没有更多了。。。。。。");else{switch(this.sendData={userId:e.getStorageSync("userInfo").id,page:this.navs[r].page,orderType:this.currentIndex.toString()},this.navs[r].page++,r){case 0:this.reqUrl="/api/v1/order/list/all";break;case 1:this.reqUrl="/api/v1/order/list/unpaid";break;case 2:0==this.currentIndex?this.reqUrl="/api/v1/order/list/undelivered":1==this.currentIndex&&(this.reqUrl="/api/v1/order/list/receipt");break;case 3:0==this.currentIndex?this.reqUrl="/api/v1/order/list/receipt":1==this.currentIndex&&(this.reqUrl="/api/v1/order/list/unevaluated");break;case 4:this.reqUrl="/api/v1/order/list/unevaluated";break;default:break}this.$u.post(this.reqUrl,this.sendData).then((function(e){var o;if(console.log(e.data),"FAIL"!=e.data.code){var s=e.data.data;if(0==s.length)return t.navs[r].stopLoad=!0,t.navs[r].loadStatus="nomore",void(1==t.navs[r].page&&(console.log("没有此类订单"),t.navs[r].isNull=!0));s.length<5&&(t.navs[r].loadStatus="nomore"),(o=t.navs[r].orders).push.apply(o,n(s)),console.log(t.navs)}else t.$u.toast(e.data.msg)}))}},toInvoice:function(){e.redirectTo({url:"/packageA/invoice/invoice"})},cancelOrder:function(t,n){var r=this;e.showModal({title:"提示",content:"确认要取消该订单吗？",success:function(o){o.confirm?(console.log("用户点击确定"),r.$u.post("/api/v1/order/cancel",{userId:e.getStorageSync("userInfo").id,orderId:n}).then((function(n){console.log(n.data),"FAIL"!=n.data.code?(r.navs[r.orderTypeIndex].orders.splice(t,1),e.showToast({title:"订单已取消"})):r.$u.toast(n.data.msg)}))):o.cancel&&console.log("用户点击取消")}})},confirmGet:function(t,n){var r=this;e.showModal({title:"提示",content:"确认收货吗？",success:function(o){o.confirm?(console.log("用户点击确定"),r.$u.post("/api/v1/order/receipt/confirm",{userId:e.getStorageSync("userInfo").id,orderId:n}).then((function(n){console.log(n.data),"FAIL"!=n.data.code?(r.navs[r.orderTypeIndex].orders.splice(t,1),e.showToast({title:"已确认收货"})):r.$u.toast(n.data.msg)}))):o.cancel&&console.log("用户点击取消")}})},deleteOrder:function(t,n){var r=this;e.showModal({title:"提示",content:"确认删除该订单吗？",success:function(o){o.confirm?(console.log("用户点击确定"),r.$u.post("/api/v1/order/delete",{userId:e.getStorageSync("userInfo").id,orderId:n}).then((function(n){console.log(n.data),"FAIL"!=n.data.code?(r.navs[r.orderTypeIndex].orders.splice(t,1),e.showToast({title:"订单已删除"})):r.$u.toast(n.data.msg)}))):o.cancel&&console.log("用户点击取消")}})},checkExpress:function(t){console.log(t),e.navigateTo({url:"../logisticsList/logisticsList?orderId="+t})},evaluate:function(){this.$u.toast("暂未开放")}}};t.default=u}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},154:
/*!******************************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=style&index=0&lang=scss& */155),o=n.n(r);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);t["default"]=o.a},155:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?vue&type=style&index=0&lang=scss& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[148,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/orders/orders.js.map