(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsDetail/goodsDetail"],{60:
/*!*************************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/main.js?{"page":"pages%2FgoodsDetail%2FgoodsDetail"} ***!
  \*************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){o(/*! uni-pages */4);s(o(/*! vue */2));var e=s(o(/*! ./pages/goodsDetail/goodsDetail.vue */61));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},61:
/*!******************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue ***!
  \******************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var s=o(/*! ./goodsDetail.vue?vue&type=template&id=21ea9296& */62),i=o(/*! ./goodsDetail.vue?vue&type=script&lang=js& */64);for(var n in i)"default"!==n&&function(t){o.d(e,t,(function(){return i[t]}))}(n);o(/*! ./goodsDetail.vue?vue&type=style&index=0&lang=scss& */66);var a,u=o(/*! ../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),r=Object(u["default"])(i["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],a);r.options.__file="pages/goodsDetail/goodsDetail.vue",e["default"]=r.exports},62:
/*!*************************************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue?vue&type=template&id=21ea9296& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e);var s=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsDetail.vue?vue&type=template&id=21ea9296& */63);o.d(e,"render",(function(){return s["render"]})),o.d(e,"staticRenderFns",(function(){return s["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return s["recyclableRender"]})),o.d(e,"components",(function(){return s["components"]}))},63:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue?vue&type=template&id=21ea9296& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e),o.d(e,"render",(function(){return i})),o.d(e,"staticRenderFns",(function(){return a})),o.d(e,"recyclableRender",(function(){return n})),o.d(e,"components",(function(){return s}));var s={uLoading:function(){return o.e(/*! import() | uview-ui/components/u-loading/u-loading */"uview-ui/components/u-loading/u-loading").then(o.bind(null,/*! @/uview-ui/components/u-loading/u-loading.vue */564))},uNavbar:function(){return o.e(/*! import() | uview-ui/components/u-navbar/u-navbar */"uview-ui/components/u-navbar/u-navbar").then(o.bind(null,/*! @/uview-ui/components/u-navbar/u-navbar.vue */571))},uPopup:function(){return o.e(/*! import() | uview-ui/components/u-popup/u-popup */"uview-ui/components/u-popup/u-popup").then(o.bind(null,/*! @/uview-ui/components/u-popup/u-popup.vue */578))},uNumberBox:function(){return o.e(/*! import() | uview-ui/components/u-number-box/u-number-box */"uview-ui/components/u-number-box/u-number-box").then(o.bind(null,/*! @/uview-ui/components/u-number-box/u-number-box.vue */585))}},i=function(){var t=this,e=t.$createElement;t._self._c},n=!1,a=[];i._withStripped=!0},64:
/*!*******************************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var s=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsDetail.vue?vue&type=script&lang=js& */65),i=o.n(s);for(var n in s)"default"!==n&&function(t){o.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},65:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{showLoading:!0,showTip:!1,showSpecs:!1,id:null,current:0,goodsDetail:null,IMAGE_URL:this.IMAGE_URL,pictures:[],buyNum:1,selectArr:[],selectName:[],shopItemInfo:{},subIndex:[],checkedSkuMsg:{},checkedSku:"",sku_id:0,type:null,containerIndex:0,dynamics:[],showBtn:!1}},onLoad:function(e){e.type&&(this.type=e.type),t.getStorageSync("auth")&&(this.showBtn=!0),this.id=parseInt(e.id),this.getGoodsDetail(),this.getList()},methods:{back:function(){"share"==this.type?t.switchTab({url:"/pages/index/index"}):t.navigateBack()},changeNum:function(){},getList:function(){var t=this;this.$u.post("/api/v1/goods/detail/moments_copy/list",{goodsID:this.id}).then((function(e){console.log(e.data),"FAIL"!=e.data.code?t.dynamics=e.data.data:t.$u.toast(e.data.msg)}))},setFavorite:function(){var e=this;this.goodsDetail.isFavorite=!this.goodsDetail.isFavorite;var o="";o=this.goodsDetail.isFavorite?"/api/v1/goods/favorites/add":"/api/v1/goods/favorites/cancel",this.$u.post(o,{userID:t.getStorageSync("userInfo").id,goodsID:this.id}).then((function(t){console.log(t.data),"FAIL"!=t.data.code||e.$u.toast(t.data.msg)}))},swiperChange:function(t){this.current=t.detail.current},tipModel:function(t){this.showTip=t},specModel:function(t){this.showSpecs=t},getGoodsDetail:function(){var t=this;this.$u.post("/api/v1/goods/detail/summary",{GoodsID:this.id}).then((function(e){console.log(e.data),t.showLoading=!1,"FAIL"!=e.data.code?(t.goodsDetail=e.data.data,t.getPictures(),t.initData()):t.$u.toast(e.data.msg)}))},initData:function(){for(var t in this.checkedSkuMsg=this.goodsDetail.sku[0],this.skuPrice=this.goodsDetail.sku[0].discountPrice||"",this.skuPhoto=this.IMAGE_URL+this.goodsDetail.sku[0].picUrl,this.skuStoreCount=this.goodsDetail.sku[0].inventory,this.checkedSku="请选择规格",this.goodsDetail.sku)this.shopItemInfo[this.goodsDetail.sku[t].combineId.split(",").reverse().join(",")]=this.goodsDetail.sku[t];this.checkItem()},getPictures:function(){var t=this;this.$u.post("/api/v1/goods/detail/photo",{GoodsID:this.id}).then((function(e){console.log(e.data),"FAIL"!=e.data.code?t.pictures=e.data.data.list:t.$u.toast(e.data.msg)}))},addcart:function(){var e=this;console.log(this.sku_id),this.sku_id?this.$u.post("/api/v1/goods/shopping_trolley/add",{UserID:t.getStorageSync("userInfo").id,GoodsID:this.id,SkuID:this.sku_id,Quantity:this.buyNum}).then((function(o){console.log(o.data),"FAIL"!=o.data.code?(t.showToast({title:"已加入购物车"}),e.specModel(!1)):e.$u.toast(o.data.msg)})):this.$u.toast("请选择商品规格")},createOrder:function(){var e=this;if(console.log(this.checkedSku),this.sku_id){var o={UserID:t.getStorageSync("userInfo").id,SkuID:this.sku_id,SkuName:this.selectName.join("+"),Quantity:this.buyNum};this.parentId&&(o.ParentID=this.parentId),this.$u.post("/api/v1/order_preview/create",o).then((function(o){if(console.log(o),"FAIL"!=o.data.code){var s=o.data.data;e.$store.commit("updatePreOrderMsg",s),t.navigateTo({url:"/pages/confirmOrder/confirmOrder"}),e.specModel(!1)}else e.$u.toast(o.data.msg)}))}else this.$u.toast("请选择商品规格")},chooseAttr:function(t,e,o,s){this.selectArr[t]!=o?(this.selectName[t]=s,this.selectArr[t]=o,this.subIndex[t]=e):(this.selectName[t]="",this.selectArr[t]="",this.subIndex[t]=-1),this.checkedSku=this.selectName.join(","),this.checkItem()},checkItem:function(){var t=this.goodsDetail.attributes,e=[];for(var o in t)e[o]=this.selectArr[o]?this.selectArr[o]:"";for(var s in t){var i=e[s];for(var n in t[s].children)e[s]=t[s].children[n].id,t[s].children[n].isShow=this.isMay(e);e[s]=i}this.shopItemInfo[e]?(this.checkedSkuMsg=this.shopItemInfo[e],this.sku_id=this.shopItemInfo[e].id):this.sku_id=0,this.$forceUpdate()},isMay:function(t){for(var e in t)if(""==t[e])return!0;return 0!=this.shopItemInfo[t].inventory},downloadPic:function(t){console.log(t);for(var e=0;e<t.length;e++)this.downloadSave(this.IMAGE_URL+t[e].url)},downloadSave:function(e){var o=this;console.log(e),t.downloadFile({url:e,success:function(e){if(200===e.statusCode){console.log(e.tempFilePath),console.log("下载成功");var s=e.tempFilePath;t.saveImageToPhotosAlbum({filePath:s,success:function(){console.log("save success")},fail:function(t){o.$u.toast(t)}})}},fail:function(t){o.$u.toast(t)}})},copyWords:function(e){t.setClipboardData({data:e,success:function(t){console.log("success")}})}},onShareAppMessage:function(t){return"button"===t.from&&console.log(t.target),{title:"我在买"+this.goodsDetail.goodsName+",快来看看吧！",path:"/pages/goodsDetail/goodsDetail?id="+this.id+"&type=share",imageUrl:this.IMAGE_URL+this.goodsDetail.mainPhotos[0].url}}};e.default=o}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},66:
/*!****************************************************************************************************************!*\
  !*** /Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue?vue&type=style&index=0&lang=scss& ***!
  \****************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var s=o(/*! -!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goodsDetail.vue?vue&type=style&index=0&lang=scss& */67),i=o.n(s);for(var n in s)"default"!==n&&function(t){o.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},67:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/mac/Desktop/work/recook-weapp/pages/goodsDetail/goodsDetail.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){}},[[60,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/goodsDetail/goodsDetail.js.map