{"version":3,"sources":["uni-app:///main.js","webpack:////Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?615c","webpack:////Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?1fdb","webpack:////Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?3b27","webpack:////Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?f853","uni-app:///pages/orders/orders.vue","webpack:////Users/mac/Desktop/work/recook-weapp/pages/orders/orders.vue?bf9c"],"names":["createPage","Page","renderjs","component","options","__file","components","uNavbar","uTabs","uLoadmore","render","_vm","this","_h","$createElement","l1","_self","_c","__map","navs","item1","index1","$orig","__get_orig","l0","isNull","orders","item2","index2","f0","_f","goodsTotalAmount","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,4C,mDACAA,EAAWC,a;;;;2DCHX,4QACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E;;;;2GCvBf,2yC;;;;2GCAA,8LAAIG,EAAa,CACfC,QAAS,WACP,OAAO,8KAITC,MAAO,WACL,OAAO,sMAITC,UAAW,WACT,OAAO,2LAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,MAAM,SAASC,EAAOC,GAC3C,IAAIC,EAAQX,EAAIY,WAAWH,GAEvBI,EAAMJ,EAAMK,OAWZ,KAVAd,EAAIO,MAAME,EAAMM,QAAQ,SAASC,EAAOC,GACtC,IAAIN,EAAQX,EAAIY,WAAWI,GAEvBE,EAAKlB,EAAImB,GAAG,UAAPnB,CAAkBgB,EAAMI,iBAAkB,GAEnD,MAAO,CACLT,MAAOA,EACPO,GAAIA,MAIZ,MAAO,CACLP,MAAOA,EACPE,GAAIA,OAIRb,EAAIqB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLrB,GAAIA,MAKRsB,GAAmB,EACnBC,EAAkB,GACtB5B,EAAO6B,eAAgB,G;;;;2DCrDvB,24BAAo1B,eAAG,G;;;;23BCkEv1B,CACA,KADA,WAEA,OACA,yBACA,eACA,QACA,oCACA,8BACA,iBACA,UACA,cAGA,OAbA,SAaA,GACA,eACA,SACA,sCAEA,eAEA,SAEA,UAFA,SAEA,GACA,oBACA,sBACA,eAEA,OAPA,WASA,GADA,aACA,qBACA,mCACA,gBACA,kBACA,OACA,YACA,UACA,UACA,4BAGA,wBACA,mCACA,gBACA,kBACA,OACA,YACA,UACA,UACA,uBAIA,kBAGA,WAnCA,SAmCA,GACA,uBAGA,cAvCA,SAuCA,GACA,qCACA,kBAGA,SA5CA,WA6CA,iCACA,mCACA,yBACA,oBACA,yBACA,uBACA,uBACA,oCAIA,UAxDA,WAwDA,WACA,sBACA,yBACA,+BADA,CAUA,OANA,eACA,uCACA,uBACA,wCAEA,oBACA,GACA,OACA,qCACA,MACA,OACA,wCACA,MACA,OACA,qBACA,6CACA,uBACA,0CAEA,MACA,OACA,qBACA,yCACA,uBACA,8CAEA,MACA,OACA,6CACA,MACA,QACA,MAEA,gEAEA,GADA,oBACA,qBAIA,kBACA,eAOA,OANA,sBACA,mCACA,oBACA,sBACA,sBAKA,aACA,gCAEA,uCACA,yBAlBA,4BAqBA,UAvHA,WAwHA,cACA,mCAIA,YA7HA,SA6HA,gBACA,aACA,WACA,qBACA,oBACA,WACA,sBACA,kCACA,uCACA,YACA,kBACA,oBACA,qBAIA,4CACA,aACA,iBALA,2BAQA,UACA,0BAMA,WAzJA,SAyJA,gBACA,aACA,WACA,iBACA,oBACA,WACA,sBACA,2CACA,uCACA,YACA,kBACA,oBACA,qBAIA,4CACA,aACA,iBALA,2BAQA,UACA,0BAMA,YArLA,SAqLA,gBACA,aACA,WACA,oBACA,oBACA,WACA,sBACA,kCACA,uCACA,YACA,kBACA,oBACA,qBAIA,4CACA,aACA,iBALA,2BAQA,UACA,0BAMA,aAjNA,SAiNA,GACA,eACA,cACA,mDAIA,SAxNA,WAyNA,yB;;;;2DC/SA,2jDAA6gD,eAAG,G","file":"pages/orders/orders.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/orders/orders.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orders.vue?vue&type=template&id=8a71bbb4&\"\nvar renderjs\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orders.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/orders/orders.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=template&id=8a71bbb4&\"","var components = {\n  uNavbar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n    )\n  },\n  uTabs: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n    )\n  },\n  uLoadmore: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.navs, function(item1, index1) {\n    var $orig = _vm.__get_orig(item1)\n\n    var l0 = !item1.isNull\n      ? _vm.__map(item1.orders, function(item2, index2) {\n          var $orig = _vm.__get_orig(item2)\n\n          var f0 = _vm._f(\"toFixed\")(item2.goodsTotalAmount, 2)\n\n          return {\n            $orig: $orig,\n            f0: f0\n          }\n        })\n      : null\n    return {\n      $orig: $orig,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex flex-direction\" style=\"height: 100vh;\">\r\n\t\t<u-navbar>\r\n\t\t\t<view class=\"flex tab-con\">\r\n\t\t\t\t<view class=\"tab flex\">\r\n\t\t\t\t\t<view :class=\"currentIndex==0?'text-white':''\" @tap=\"chooseNav(0)\">线上订单</view>\r\n\t\t\t\t\t<view :class=\"currentIndex==1?'text-white':''\" @tap=\"chooseNav(1)\">门店订单</view>\r\n\t\t\t\t\t<view class=\"current bg-red\" :class=\"currentIndex==0?'':'moveright'\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"btn\" @tap=\"toInvoice\">开发票</view> -->\r\n\t\t\t</view>\r\n\t\t</u-navbar>\r\n\r\n\t\t<u-tabs :list=\"navs\" :is-scroll=\"false\" height=\"90\" :current=\"orderTypeIndex\" duration=\"0.2\" bar-width=\"100\" :bold=\"false\"\r\n\t\t active-color=\"red\" @change=\"chooseTabs\"></u-tabs>\r\n\r\n\t\t<swiper class=\"flex-sub\" :current=\"orderTypeIndex\" :duration=\"300\" :indicator-dots=\"false\" :autoplay=\"false\" style=\"height: 0;\"\r\n\t\t @change=\"changeCurrent\" @animationfinish=\"initData\">\r\n\t\t\t<swiper-item v-for=\"(item1,index1) in navs\" :key=\"index1\">\r\n\t\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 100%;\" @scrolltolower=\"getOrders(orderTypeIndex)\">\r\n\t\t\t\t\t<view class=\"flex flex-direction align-center null\" v-if=\"item1.isNull\">\r\n\t\t\t\t\t\t<image :src=\"IMAGE_URL+'/photo/FlynXmYVYlAq0dwfFFAYpWSzx0QF.png'\" style=\"width: 500rpx;margin-top: 200rpx;\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<view style=\"font-size: 24rpx;color: #AAAAAA;\">暂无订单</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"\" v-else>\r\n\t\t\t\t\t\t<view class=\"orders-box\" style=\"padding: 10rpx 0;\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item2,index2) in item1.orders\" :key=\"index2\" style=\"padding: 10rpx 30rpx;\">\r\n\t\t\t\t\t\t\t\t<navigator :url=\"'../orderDetail/orderDetail?orderId='+item2.id\" class=\"order-item bg-white clear\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"order-item-top flex justify-between align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text-center text-white buy\" style=\"\">买</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"flex\" style=\"font-size: 32rpx;color: #000000;\">{{item2.createdAt}}<text class=\"cuIcon-right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t style=\"color: #ccc;\"></text></view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-red\" v-if=\"item2.status==0\">未付款</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-red\" v-if=\"item2.status==1\">支付成功</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-red\" v-if=\"item2.status==2\">订单已取消</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-red\" v-if=\"item2.status==3\">订单已过期</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-red\" v-if=\"item2.status==4\">交易已完成</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-red\" v-if=\"item2.status==5\">交易已关闭</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<order-goods :goodsList=\"item2.goodsList\"></order-goods>\r\n\t\t\t\t\t\t\t\t\t<view class=\"order-btn flex justify-between align-center\" hover-stop-propagation>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"cu-btn lines-gray text-gray round\" v-if=\"item2.status==0\" @tap.stop=\"cancelOrder(index2,item2.id)\">取消订单</button>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"item2.status==1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"cu-btn lines-gray text-gray round\" style=\"margin-right: 15rpx;\" @tap.stop=\"checkExpress(item2.id)\">查看物流</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"cu-btn lines-red text-red round\" @tap.stop=\"confirmGet(index2,item2.id)\">确认收货</button>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"cu-btn lines-gray text-gray round\" v-if=\"item2.status==2||item2.status==3||item2.status==5\"\r\n\t\t\t\t\t\t\t\t\t\t @tap.stop=\"deleteOrder(index2,item2.id)\">删除订单</button>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"cu-btn lines-gray text-gray round\" v-if=\"item2.status==4\" @tap.stop=\"evaluate(index2,item2.id)\">立即评价</button>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"\">共{{item2.totalGoodsCount}}件商品 总计<text class=\"text-red\">￥{{item2.goodsTotalAmount | toFixed(2)}}</text></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<u-loadmore :status=\"item1.loadStatus\" margin-bottom=\"40\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tIMAGE_URL: this.IMAGE_URL,\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tnavs: [],\r\n\t\t\t\tnav1: [\"全部\", \"待付款\", \"待发货\", \"待收货\", \"待评价\"],\r\n\t\t\t\tnav2: [\"全部\", \"待付款\", \"待自提\", \"待评价\"],\r\n\t\t\t\torderTypeIndex: 0,\r\n\t\t\t\treqUrl: \"\",\r\n\t\t\t\tsendData: {},\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(options) {\t\n\t\t\tconsole.log(options)\r\n\t\t\tif(options.type) {\r\n\t\t\t\tthis.orderTypeIndex = parseInt(options.type) \r\n\t\t\t}\r\n\t\t\tthis.setNav()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 线上订单/门店订单切换\r\n\t\t\tchooseNav(i) {\r\n\t\t\t\tthis.currentIndex = i\r\n\t\t\t\tthis.orderTypeIndex = 0\r\n\t\t\t\tthis.setNav()\r\n\t\t\t},\r\n\t\t\tsetNav() {\r\n\t\t\t\tthis.navs = []\r\n\t\t\t\tif (this.currentIndex == 0) {\r\n\t\t\t\t\tfor (let i = 0; i < this.nav1.length; i++) {\r\n\t\t\t\t\t\tthis.navs.push({\r\n\t\t\t\t\t\t\tname: this.nav1[i],\r\n\t\t\t\t\t\t\tpage: 0,\r\n\t\t\t\t\t\t\tstopLoad: false,\r\n\t\t\t\t\t\t\torders: [],\r\n\t\t\t\t\t\t\tisNull: false,\r\n\t\t\t\t\t\t\tloadStatus: \"loading\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.currentIndex == 1) {\r\n\t\t\t\t\tfor (let i = 0; i < this.nav2.length; i++) {\r\n\t\t\t\t\t\tthis.navs.push({\r\n\t\t\t\t\t\t\tname: this.nav2[i],\r\n\t\t\t\t\t\t\tpage: 0,\r\n\t\t\t\t\t\t\tstopLoad: false,\r\n\t\t\t\t\t\t\torders: [],\r\n\t\t\t\t\t\t\tisNull: false,\r\n\t\t\t\t\t\t\tloadStatus: \"loading\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.getOrders()\r\n\t\t\t},\r\n\t\t\t//点击订单类型切换\r\n\t\t\tchooseTabs(index) {\r\n\t\t\t\tthis.orderTypeIndex = index\r\n\t\t\t},\r\n\t\t\t//swiper切换\r\n\t\t\tchangeCurrent(e) {\r\n\t\t\t\tthis.orderTypeIndex = e.detail.current\r\n\t\t\t\tthis.getOrders()\r\n\t\t\t},\r\n\t\t\t//一旦用户有切换swiper的动作，就把不是当前页面的数据重置\r\n\t\t\tinitData() {\n\t\t\t\tconsole.log(this.orderTypeIndex)\r\n\t\t\t\tfor (let i = 0; i < this.navs.length; i++) {\r\n\t\t\t\t\tif (i != this.orderTypeIndex) {\r\n\t\t\t\t\t\tthis.navs[i].page = 0\r\n\t\t\t\t\t\tthis.navs[i].stopLoad = false\r\n\t\t\t\t\t\tthis.navs[i].orders = []\r\n\t\t\t\t\t\tthis.navs[i].isNull = false\r\n\t\t\t\t\t\tthis.navs[i].loadStatus = \"loading\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetOrders() {\r\n\t\t\t\tlet index = this.orderTypeIndex\r\n\t\t\t\tif (this.navs[index].stopLoad) {\r\n\t\t\t\t\tconsole.log(\"没有更多了。。。。。。\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.sendData = {\r\n\t\t\t\t\tuserId: uni.getStorageSync(\"userInfo\").id,\r\n\t\t\t\t\tpage: this.navs[index].page,\r\n\t\t\t\t\torderType: this.currentIndex.toString()\r\n\t\t\t\t}\r\n\t\t\t\tthis.navs[index].page++\r\n\t\t\t\tswitch (index) {\r\n\t\t\t\t\tcase 0: //全部\r\n\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/all\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1: //待付款\r\n\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/unpaid\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tif (this.currentIndex == 0) { //待发货\r\n\t\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/undelivered\"\r\n\t\t\t\t\t\t} else if (this.currentIndex == 1) { //门店订单待自提\r\n\t\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/receipt\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tif (this.currentIndex == 0) { //待收货\r\n\t\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/receipt\"\r\n\t\t\t\t\t\t} else if (this.currentIndex == 1) { //门店订单待评价\r\n\t\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/unevaluated\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4: //待评价\r\n\t\t\t\t\t\tthis.reqUrl = \"/api/v1/order/list/unevaluated\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$u.post(this.reqUrl, this.sendData).then(res => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tif (res.data.code == \"FAIL\") {\r\n\t\t\t\t\t\tthis.$u.toast(res.data.msg);\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet order = res.data.data\r\n\t\t\t\t\tif (order.length == 0) {\r\n\t\t\t\t\t\tthis.navs[index].stopLoad = true\r\n\t\t\t\t\t\tthis.navs[index].loadStatus = \"nomore\"\r\n\t\t\t\t\t\tif (this.navs[index].page == 1) {\r\n\t\t\t\t\t\t\tconsole.log(\"没有此类订单\")\r\n\t\t\t\t\t\t\tthis.navs[index].isNull = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//为了防止第一页商品数量不够时scrollview不能触底导致底部一直显示正在加载\r\n\t\t\t\t\tif (order.length < 5) {\r\n\t\t\t\t\t\tthis.navs[index].loadStatus = \"nomore\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.navs[index].orders.push(...order)\r\n\t\t\t\t\tconsole.log(this.navs)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoInvoice() {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: \"/packageA/invoice/invoice\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//取消订单\r\n\t\t\tcancelOrder(index, id) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确认要取消该订单吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\tthis.$u.post('/api/v1/order/cancel', {\r\n\t\t\t\t\t\t\t\tuserId: uni.getStorageSync(\"userInfo\").id,\r\n\t\t\t\t\t\t\t\torderId: id,\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\tif (res.data.code == \"FAIL\") {\r\n\t\t\t\t\t\t\t\t\tthis.$u.toast(res.data.msg);\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.navs[this.orderTypeIndex].orders.splice(index, 1)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"订单已取消\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//确认收货\r\n\t\t\tconfirmGet(index, id) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确认收货吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\tthis.$u.post('/api/v1/order/receipt/confirm', {\r\n\t\t\t\t\t\t\t\tuserId: uni.getStorageSync(\"userInfo\").id,\r\n\t\t\t\t\t\t\t\torderId: id,\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\tif (res.data.code == \"FAIL\") {\r\n\t\t\t\t\t\t\t\t\tthis.$u.toast(res.data.msg);\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.navs[this.orderTypeIndex].orders.splice(index, 1)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"已确认收货\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//删除订单\r\n\t\t\tdeleteOrder(index, id) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确认删除该订单吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\tthis.$u.post('/api/v1/order/delete', {\r\n\t\t\t\t\t\t\t\tuserId: uni.getStorageSync(\"userInfo\").id,\r\n\t\t\t\t\t\t\t\torderId: id,\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\t\tif (res.data.code == \"FAIL\") {\r\n\t\t\t\t\t\t\t\t\tthis.$u.toast(res.data.msg);\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.navs[this.orderTypeIndex].orders.splice(index, 1)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"订单已删除\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//查看物流\r\n\t\t\tcheckExpress(id) {\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../logisticsList/logisticsList?orderId=\" + id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//立即评价\r\n\t\t\tevaluate() {\r\n\t\t\t\tthis.$u.toast(\"暂未开放\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\theight: 100vh;\r\n\t\twidth: 100vw;\r\n\t}\r\n\r\n\t.tab-con {\r\n\t\t.tab {\r\n\t\t\tborder: 2rpx solid #DDDDDD;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\tview {\r\n\t\t\t\twidth: 160rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tline-height: 60rpx;\r\n\t\t\t\tfont-weight: 900;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\r\n\t\t\t.current {\r\n\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tz-index: -100;\r\n\t\t\t\ttransition: 0.5s;\r\n\t\t\t}\r\n\r\n\t\t\t.moveright {\r\n\t\t\t\ttransform: translateX(160rpx);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tmargin-left: 10rpx;\r\n\t\t\tpadding: 0 10rpx;\r\n\t\t\tline-height: 60rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.nav-box {\r\n\t\tline-height: 80rpx;\r\n\t\tbox-shadow: 0 0 15rpx 1rpx rgba(0, 0, 0, 0.1);\r\n\r\n\t\t.nav-item {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-weight: 700;\r\n\t\t}\r\n\r\n\t\t.active {\r\n\t\t\tposition: relative;\r\n\t\t\tcolor: red;\r\n\t\t}\r\n\r\n\t\t.active::after {\r\n\t\t\tcontent: \"\";\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 5rpx;\r\n\t\t\twidth: 100rpx;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\theight: 6rpx;\r\n\t\t\tborder-radius: 3rpx;\r\n\t\t\tbackground-color: red;\r\n\t\t}\r\n\t}\r\n\r\n\t.order-item {\r\n\t\tpadding: 25rpx;\r\n\t\tborder-radius: 10rpx;\r\n\r\n\t\t.order-item-top {\r\n\t\t\tline-height: 40rpx;\r\n\t\t\tpadding: 10rpx 0;\r\n\r\n\t\t\t.buy {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tbackground-color: #FE3E27;\r\n\t\t\t\tborder-radius: 5rpx;\r\n\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-btn {\r\n\t\t\tmargin: 30rpx 0 10rpx;\r\n\r\n\t\t\tbutton {\r\n\t\t\t\tpadding: 0 15rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orders.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}